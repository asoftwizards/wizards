<?xml version="1.0" encoding="UTF-8"?>
<wnd xmlns="http://www.asoft.ru/xsl/ai" id="PompAdd" class="generic" title="`Насос`">
  <ele id="EquipID" class="Spinner" type="ID" visibility="vo" title="`Код записи`" hidden="yes"/>
  <ele id="EquipKindID" class="Spinner" type="ID" handle="CHANGE" title="`Код типа оборудования`" hidden="yes"/>
  <ele id="EquipmentKindName" class="StringInput" type="NAME" visibility="ro" title="`Модель`"/>
  <ele id="Choose_EquipmentKind" class="popup" label="`...`" handle="CLICK" src="" rets="EquipKindID=EquipKindID EquipmentKindName=Name " align="Choose_EquipmentKind"/>
  <ele id="InvNumber" class="StringInput" type="NAME" title="`Инвентаризационный номер`"/>
  <ele id="EStatus" class="DropDown" type="EQUIPMENT_STATUS" title="`Статус`"/>
  <ele id="EState" class="DropDown" type="EQUIPMENT_STATE" title="`Состояние`"/>
  <ele id="OwnerOrgID" class="Spinner" type="ID" handle="CHANGE" ref="Organization" title="`Код организации`" hidden="yes"/>
  <ele id="OwnerName" class="StringInput" type="NAME" visibility="ro" ref="Organization" title="`Название`"/>
  <ele id="Choose_Owner" class="popup" label="`...`" handle="CLICK" src="" rets="OwnerOrgID=OrgID OwnerName=Name " align="Choose_Owner"/>
  <ele id="Power" class="DoubleInput" type="DOUBLE" title="`Мощность`"/>
  <ele id="Capacity" class="Spinner" type="INT" title="`Производительность`"/>
  <ele id="Add" class="SimpleButton" autofocus="no" dependsOn="EquipKindID InvNumber EStatus EState OwnerOrgID Power Capacity " shortcut="Ctrl+S" primary="yes" label="`Add`"/>
  <ele id="Cancel" class="SimpleButton" autofocus="no" misc="yes" shortcut="#27" label="`Cancel`"/>
  <a id="Init">
    <ele aid="c1" id="EquipID" hidden="yes"/>
    <call aid="r1" meth="/srv/GPN/EquipmentKind/Get" args="EquipKindID=EquipKindID " rets="EquipmentKindName=Name " when="(EquipKindID != 'none:')"/>
    <ele id="EquipmentKindName" aid="noneEquipmentKindName" value="none:" when="(EquipKindID = 'none:')"/>
    <call aid="r2" meth="/srv/GPN/Organization/Get" args="OrgID=OwnerOrgID " rets="OwnerName=Name " when="(OwnerOrgID != 'none:')"/>
    <ele id="OwnerName" aid="noneOwnerName" value="none:" when="(OwnerOrgID = 'none:')"/>
    <ele aid="dEquipmentKind1" id="EquipKindID" visibility="vo" when="(EquipKindID != 'none:')"/>
    <ele aid="dEquipmentKind2" id="EquipmentKindName" visibility="vo" when="(EquipKindID != 'none:')"/>
    <ele aid="dEquipmentKindChoose" id="Choose_EquipmentKind" visibility="ro" when="(EquipKindID != 'none:')"/>
    <ele aid="dOwner1" id="OwnerOrgID" visibility="vo" when="(OwnerOrgID != 'none:')"/>
    <ele aid="dOwner2" id="OwnerName" visibility="vo" when="(OwnerOrgID != 'none:')"/>
    <ele aid="dOwnerChoose" id="Choose_Owner" visibility="ro" when="(OwnerOrgID != 'none:')"/>
    <ele aid="InitWinTitle" id="PompAdd" title="`Насос`"/>
  </a>
  <a id="Add" primary="yes" shortcut="Ctrl+S">
    <call aid="c1" meth="/srv/GPN/Pomp/Add" args="EquipKindID InvNumber EStatus EState OwnerOrgID Power Capacity " rets="EquipID "/>
    <evt aid="ret" type="WM_BACK" args="EquipID EquipKindID InvNumber EStatus EState OwnerOrgID Power Capacity " step="1"/>
  </a>
  <a id="Cancel" shortcut="#27">
    <evt aid="ret" type="WM_BACK" args="EquipID EquipKindID InvNumber EStatus EState OwnerOrgID Power Capacity " step="1"/>
  </a>
  <a id="EquipKindID_CHANGE">
    <call meth="/srv/GPN/EquipmentKind/Get" args="EquipKindID=EquipKindID " rets="EquipmentKindName=Name " aid="c1"/>
  </a>
  <a id="OwnerOrgID_CHANGE">
    <call meth="/srv/GPN/Organization/Get" args="OrgID=OwnerOrgID " rets="OwnerName=Name " aid="c1"/>
  </a>
  <a id="Choose_EquipmentKind">
    <evt aid="popupcall" type="WM_POPUP" id="Choose_EquipmentKind" src="/act/GPN/EquipmentKindListPopup" args="" rets=""/>
  </a>
  <a id="Choose_Owner">
    <evt aid="popupcall" type="WM_POPUP" id="Choose_Owner" src="/act/GPN/OrganizationListPopup" args="" rets=""/>
  </a>
  <lay>
    <grid id="General">
      <row id="EquipmentKind" visability="no" ></row>
      <row id="InvNumber">
        <cell id="InvNumber_label" labelfor="InvNumber" text="`Инвентаризационный номер`*"/>
        <cell id="InvNumber">
          <ele id="InvNumber"/>
        </cell>
      </row>
      <row id="EStatus">
        <cell id="EStatus_label" labelfor="EStatus" text="`Статус`"/>
        <cell id="EStatus">
          <ele id="EStatus"/>
        </cell>
      </row>
      <row id="EState">
        <cell id="EState_label" labelfor="EState" text="`Состояние`"/>
        <cell id="EState">
          <ele id="EState"/>
        </cell>
      </row>
      <row id="Owner">
        <cell id="Owner_label" labelfor="OwnerOrgID" text="`Организация`*"/>
        <cell id="Owner">
          <ele id="OwnerName"/>
          <ele id="Choose_Owner"/>
        </cell>
      </row>
      <row id="Power">
        <cell id="Power_label" labelfor="Power" text="`Мощность`*"/>
        <cell id="Power">
          <ele id="Power"/>
        </cell>
      </row>
      <row id="Capacity">
        <cell id="Capacity_label" labelfor="Capacity" text="`Производительность`*"/>
        <cell id="Capacity">
          <ele id="Capacity"/>
        </cell>
      </row>
    </grid>
    <grid id="BGeneral" class="DialogButtons">
      <row id="BGeneral">
        <cell id="BGeneral">
          <ele id="Add"/>
        </cell>
        <cell id="MiscBGeneral" class="MiscButtons">
          <ele id="Cancel"/>
        </cell>
      </row>
    </grid>
  </lay>
</wnd>
